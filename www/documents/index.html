<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Complete Discography | dlove.it</title>

  <!-- Display the same in all browsers.  Must be first stylesheet. -->
  <link href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.css" rel="stylesheet" type="text/css" />
  <link href="style/lib/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="style/style.css" rel="stylesheet" type="text/css" />

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script> 
  <script>
    function formSubmit(e) {
      e.preventDefault()
      let uri = encodeURI("/app/discography/"+$("#artist").val())
      console.log("uri="+uri)
      let btnText = $("#submit").html()
      $("#submit").html("Loading...")
      $("#disco-container").hide()
      $("#loading").show()
      $("#disco").load(uri, function() {
        $("#submit").html(btnText)
        $("#disco-container").show()
        $("#loading").hide()
      })
    }
  </script>
</head>
<body>
  <main class="center-contents">
    <div class="spacey">
      <h1 class="text-primary">Complete Discography</h1>
      <div class="little-spacey">
        <p>If you follow an artist who performs in several different bands, this tool is for you. 
          Enter their name to get a list of every album they've released under all of their various bands and aliases.</p>
        <p>This app uses Python and Flask to retrieve data from <a href="https://discogs.com">Discogs</a> 
          via their handy <a href="https://www.discogs.com/developers">API</a>.  
          Check out the source code on <a href="https://github.com/dfunklove/complete-discography">GitHub</a>.</p>
      </div>
      <form class="bs-component" onsubmit="formSubmit(event)">
        <div class="form-group">
          <label for="artist" class="col-form-label-lg">Artist Name</label><br>
          <input class="form-control-lg center-contents" id="artist">
        </div>
      </form>
      <button class="btn btn-primary btn-lg" id="submit" onclick="formSubmit(event)">Go!</button>
    </div>
    <div id="loading" class="hidden spacey">
      <img src="images/spinner.svg"/>
    </div>
    <div id="disco-container" class="hidden spacey big-bottom">
      <div class="center-me jumbotron-background">
        <h1 class="display-3">Results</h1>
        <div id="disco" class="center-me little-spacey"></div>
      </div>
    </div>
  </main>
</html>